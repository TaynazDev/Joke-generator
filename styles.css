:root{--bg:#0f172a;--card:#111827;--text:#e5e7eb;--muted:#94a3b8;--brand:#dc2626;--brand-2:#991b1b;--danger:#ef4444;--btn:#2c3e50;--gunmetal:#2c3e50;--black:#0a0a0a;--white:#f5f5f5;--red:#dc2626;--red-dark:#991b1b}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,sans-serif;background:linear-gradient(135deg,#0a0a0a,#1a1a1a,#2c3e50);background-size:400% 400%;animation:gradientShift 15s ease infinite;color:var(--white);display:flex;flex-direction:column;align-items:center;overflow-x:hidden}
@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.app-header{width:100%;max-width:1200px;display:flex;justify-content:space-between;align-items:center;padding:40px 24px;animation:slideDown 0.6s ease}
@keyframes slideDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
h1{font-size:clamp(32px,5vw,48px);margin:0;background:linear-gradient(90deg,var(--red),var(--white),var(--red));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:shimmer 3s ease-in-out infinite;background-size:200% 100%}
@keyframes shimmer{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.toggles{display:flex;align-items:center;gap:16px}
.toggle-label{font-size:20px;color:var(--muted);transition:color 0.3s ease}
.container{width:100%;max-width:1200px;padding:0 24px 48px;display:flex;flex-direction:column;align-items:center;animation:fadeIn 0.8s ease}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.logo{max-width:400px;width:100%;height:auto;margin-bottom:32px;display:block;filter:drop-shadow(0 8px 20px rgba(220,38,38,0.4));animation:fadeIn 1s ease}
.joke-card{width:100%;background:linear-gradient(135deg,#1a1a1a,#2c3e50,#0a0a0a);border:3px solid transparent;background-clip:padding-box;border-radius:24px;padding:56px 44px;box-shadow:0 20px 60px rgba(220,38,38,0.3), 0 0 40px rgba(220,38,38,0.2);min-height:240px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;position:relative;overflow:visible;transition:transform 0.3s ease, box-shadow 0.3s ease}
.joke-card:before{content:'';position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;background:linear-gradient(45deg,var(--red),var(--gunmetal),var(--white),var(--red-dark));border-radius:16px;z-index:-1;opacity:0.6;animation:rotateBorder 4s linear infinite}
@keyframes rotateBorder{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}
.joke-card.new-joke{animation:bounceIn 0.6s cubic-bezier(0.68,-0.55,0.265,1.55)}
@keyframes bounceIn{0%{transform:scale(0.3);opacity:0}50%{transform:scale(1.05)}70%{transform:scale(0.9)}100%{transform:scale(1);opacity:1}}
.joke-text{font-size:clamp(28px,4.5vw,40px);line-height:1.5;position:relative;z-index:1;font-weight:500;color:#fff;width:100%}
.joke-answer{font-size:clamp(26px,4.2vw,38px);line-height:1.5;position:relative;z-index:1;font-weight:600;color:var(--red);opacity:0;max-height:0;overflow:hidden;transform:translateY(-20px);transition:all 0.6s cubic-bezier(0.34,1.56,0.64,1);width:100%}
.joke-answer.revealed{opacity:1;max-height:500px;transform:translateY(0);margin-top:20px}
.actions{display:flex;flex-wrap:wrap;gap:16px;margin-top:28px}
.btn{background:var(--gunmetal);color:var(--white);border:1px solid #445566;padding:16px 28px;border-radius:14px;cursor:pointer;transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);user-select:none;position:relative;overflow:hidden;font-size:18px;font-weight:600}
.btn:before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,0.3);transform:translate(-50%,-50%);transition:width 0.6s,height 0.6s}
.btn:active:before{width:300px;height:300px}
.btn:hover{transform:translateY(-3px) scale(1.05);background:#3a4d61;box-shadow:0 8px 20px rgba(220,38,38,0.4)}
.btn.primary{background:linear-gradient(135deg,var(--red),var(--red-dark));border:none;color:var(--white);font-weight:600;box-shadow:0 4px 15px rgba(220,38,38,0.5)}
.btn.primary:hover{box-shadow:0 8px 25px rgba(220,38,38,0.7);filter:brightness(1.1)}
.btn.primary:active{transform:translateY(-1px) scale(0.98)}
.btn.secondary{background:linear-gradient(135deg,var(--gunmetal),var(--white));border:none;color:var(--black);font-weight:600;box-shadow:0 4px 15px rgba(44,62,80,0.4)}
.btn.secondary:hover{box-shadow:0 8px 25px rgba(44,62,80,0.6);filter:brightness(1.1)}
.btn.secondary:active{transform:translateY(-1px) scale(0.98)}
.btn.danger{background:linear-gradient(135deg,#f87171,#ef4444);border:none;color:#fff;font-weight:600)
.btn:disabled{opacity:0.5;cursor:not-allowed;transform:none !important}
.hint{margin:16px 0 0;color:var(--muted);font-size:20px;animation:pulse 2s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:0.6}50%{opacity:1}}
.dialog{max-width:1000px;width:min(92vw,1000px);border:3px solid var(--red);border-radius:20px;background:linear-gradient(135deg,#0a0a0a,#1a1a1a);color:var(--white);padding:0;box-shadow:0 25px 50px rgba(220,38,38,0.4);animation:dialogSlideIn 0.3s ease}
@keyframes dialogSlideIn{from{opacity:0;transform:scale(0.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}
.dialog::backdrop{backdrop-filter:blur(8px);background:rgba(0,0,0,0.6)}
.dialog header{padding:24px 28px;border-bottom:3px solid var(--red);background:linear-gradient(90deg,rgba(220,38,38,0.2),rgba(44,62,80,0.2));font-size:28px}
.dialog .list{padding:20px 24px;max-height:50vh;overflow:auto}
.dialog .item{display:flex;gap:16px;align-items:flex-start;justify-content:space-between;padding:20px 16px;border-bottom:1px dashed #2c3e50;transition:background 0.2s ease;font-size:18px}
.dialog .item:hover{background:rgba(220,38,38,0.1)}
.dialog .item:last-child{border-bottom:none}
.dialog .text{flex:1}
.dialog .actions-row{display:flex;gap:8px}
.dialog-actions{padding:24px 28px;display:flex;gap:16px;justify-content:flex-end;border-top:1px solid #1f2937}
.switch{position:relative;display:inline-block;width:64px;height:36px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#374151;transition:0.4s;border-radius:36px;box-shadow:inset 0 2px 4px rgba(0,0,0,0.3)}
.slider:before{position:absolute;content:"";height:28px;width:28px;left:4px;top:4px;background:white;transition:0.4s;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.2)}
input:checked + .slider{background:linear-gradient(135deg,var(--brand),var(--cyan));box-shadow:0 0 10px rgba(34,197,94,0.5)}
input:checked + .slider:before{transform:translateX(28px)}
.confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999999}
