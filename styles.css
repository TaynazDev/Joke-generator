:root{--bg:#0f172a;--card:#111827;--text:#e5e7eb;--muted:#94a3b8;--brand:#22c55e;--brand-2:#16a34a;--danger:#ef4444;--btn:#1f2937;--purple:#a855f7;--pink:#ec4899;--orange:#f97316;--cyan:#06b6d4}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,sans-serif;background:linear-gradient(135deg,#0b1324,#1e1b4b,#312e81);background-size:400% 400%;animation:gradientShift 15s ease infinite;color:var(--text);display:flex;flex-direction:column;align-items:center;overflow-x:hidden}
@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.app-header{width:100%;max-width:1200px;display:flex;justify-content:space-between;align-items:center;padding:40px 24px;animation:slideDown 0.6s ease}
@keyframes slideDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
h1{font-size:clamp(32px,5vw,48px);margin:0;background:linear-gradient(90deg,var(--brand),var(--cyan),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:shimmer 3s ease-in-out infinite;background-size:200% 100%}
@keyframes shimmer{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.toggles{display:flex;align-items:center;gap:16px}
.toggle-label{font-size:20px;color:var(--muted);transition:color 0.3s ease}
.container{width:100%;max-width:1200px;padding:0 24px 48px;display:flex;flex-direction:column;align-items:center;animation:fadeIn 0.8s ease}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.joke-card{width:100%;background:linear-gradient(135deg,#1e1b4b,#312e81,#1e293b);border:3px solid transparent;background-clip:padding-box;border-radius:24px;padding:56px 44px;box-shadow:0 20px 60px rgba(168,85,247,0.2), 0 0 40px rgba(6,182,212,0.15);min-height:240px;display:flex;align-items:center;justify-content:center;text-align:center;position:relative;overflow:hidden;transition:transform 0.3s ease, box-shadow 0.3s ease}
.joke-card:before{content:'';position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;background:linear-gradient(45deg,var(--purple),var(--cyan),var(--pink),var(--orange));border-radius:16px;z-index:-1;opacity:0.6;animation:rotateBorder 4s linear infinite}
@keyframes rotateBorder{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}
.joke-card.new-joke{animation:bounceIn 0.6s cubic-bezier(0.68,-0.55,0.265,1.55)}
@keyframes bounceIn{0%{transform:scale(0.3);opacity:0}50%{transform:scale(1.05)}70%{transform:scale(0.9)}100%{transform:scale(1);opacity:1}}
.joke-text{font-size:clamp(28px,4.5vw,40px);line-height:1.5;position:relative;z-index:1;font-weight:500}
.actions{display:flex;flex-wrap:wrap;gap:16px;margin-top:28px}
.btn{background:var(--btn);color:var(--text);border:1px solid #2b3646;padding:16px 28px;border-radius:14px;cursor:pointer;transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);user-select:none;position:relative;overflow:hidden;font-size:18px;font-weight:600}
.btn:before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,0.3);transform:translate(-50%,-50%);transition:width 0.6s,height 0.6s}
.btn:active:before{width:300px;height:300px}
.btn:hover{transform:translateY(-3px) scale(1.05);background:#263244;box-shadow:0 8px 20px rgba(168,85,247,0.3)}
.btn.primary{background:linear-gradient(135deg,var(--brand),var(--cyan));border:none;color:#052e15;font-weight:600;box-shadow:0 4px 15px rgba(34,197,94,0.4)}
.btn.primary:hover{box-shadow:0 8px 25px rgba(34,197,94,0.6);filter:brightness(1.1)}
.btn.primary:active{transform:translateY(-1px) scale(0.98)}
.btn.danger{background:linear-gradient(135deg,#f87171,#ef4444);border:none;color:#fff;font-weight:600}
.btn:disabled{opacity:0.5;cursor:not-allowed;transform:none !important}
.hint{margin:16px 0 0;color:var(--muted);font-size:20px;animation:pulse 2s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:0.6}50%{opacity:1}}
.dialog{max-width:1000px;width:min(92vw,1000px);border:3px solid #a855f7;border-radius:20px;background:linear-gradient(135deg,#0b1220,#1e1b4b);color:var(--text);padding:0;box-shadow:0 25px 50px rgba(168,85,247,0.4);animation:dialogSlideIn 0.3s ease}
@keyframes dialogSlideIn{from{opacity:0;transform:scale(0.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}
.dialog::backdrop{backdrop-filter:blur(8px);background:rgba(0,0,0,0.6)}
.dialog header{padding:24px 28px;border-bottom:3px solid #a855f7;background:linear-gradient(90deg,rgba(168,85,247,0.2),rgba(6,182,212,0.2));font-size:28px}
.dialog .list{padding:20px 24px;max-height:50vh;overflow:auto}
.dialog .item{display:flex;gap:16px;align-items:flex-start;justify-content:space-between;padding:20px 16px;border-bottom:1px dashed #1f2937;transition:background 0.2s ease;font-size:18px}
.dialog .item:hover{background:rgba(168,85,247,0.1)}
.dialog .item:last-child{border-bottom:none}
.dialog .text{flex:1}
.dialog .actions-row{display:flex;gap:8px}
.dialog-actions{padding:24px 28px;display:flex;gap:16px;justify-content:flex-end;border-top:1px solid #1f2937}
.switch{position:relative;display:inline-block;width:64px;height:36px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#374151;transition:0.4s;border-radius:36px;box-shadow:inset 0 2px 4px rgba(0,0,0,0.3)}
.slider:before{position:absolute;content:"";height:28px;width:28px;left:4px;top:4px;background:white;transition:0.4s;border-radius:50%;box-shadow:0 2px 5px rgba(0,0,0,0.2)}
input:checked + .slider{background:linear-gradient(135deg,var(--brand),var(--cyan));box-shadow:0 0 10px rgba(34,197,94,0.5)}
input:checked + .slider:before{transform:translateX(28px)}
.confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999}
